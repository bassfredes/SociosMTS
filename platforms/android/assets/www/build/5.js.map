{"version":3,"sources":["../../src/pages/profile-detalle/profile-detalle.module.ts","../../src/pages/protected-page/protected-page.ts","../../src/models/ferreteria.model.ts","../../src/pages/profile-detalle/profile-detalle.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfileDetallePage } from './profile-detalle';\nimport { SharedModule } from '../../app/shared.module';\n\n@NgModule({\n    declarations: [\n        ProfileDetallePage,\n    ],\n    imports: [\n        IonicPageModule.forChild(ProfileDetallePage),\n        SharedModule\n    ],\n    exports: [\n        ProfileDetallePage\n    ]\n})\nexport class ProfileDetallePageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile-detalle/profile-detalle.module.ts","import {NavController, NavParams,App} from 'ionic-angular';\nimport {Storage} from '@ionic/storage';\n\nexport class ProtectedPage {\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public storage: Storage,\n        public appCtrl: App) {\n    }\n    ionViewCanEnter() {\n        return new Promise((resolve, reject) => {\n            this.storage.get('id_token').then(id_token => {\n                if (id_token === null) {\n                    this.appCtrl.getRootNav().setRoot('WelcomePage');\n                }\n            });\n            resolve();\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/protected-page/protected-page.ts","export var ferreteriaModel:any = {\n    _id: \"\",\n    _rev: \"\",\n    isActive: false,\n    nombre: \"\",\n    indicadores: {\n        info: {\n            date: \"\",\n        },\n        nps: {\n            locales: [{\n                nombre_local: \"\",\n                rango_fecha: {\n                    primera: \"\",\n                    segunda: \"\"\n                },\n                total: 0,\n                p: 0,\n                d: 0,\n                n: 0\n            }]\n        },\n        ivs: {\n            puntaje: 0,\n            tendencia: \"\",\n            tamano: 0,\n            tamano_tendencia: \"\",\n            penetracion: 0,\n            penetracion_tendencia: \"\",\n            crecimiento: 0,\n            crecimiento_tendencia: \"\",\n            credito: 0,\n            credito_tendencia: \"\",\n            participacion: 0,\n            participacion_tendencia: \"\",\n        },\n        orden_compra: {\n            valor: 0,\n            nacional: 0,\n            stock_mts: 0,\n            importacion: 0\n        },\n        compras: {\n            valor: 0,\n            variacion: {\n                mes: \"\",\n                mes_indicador: 0,\n            },\n            fechas: [{\n                mes: \"\",\n                periodos: {\n                    actual: 0,\n                    anterior: 0\n                }\n            }, {\n                mes: \"\",\n                periodos: {\n                    actual: 0,\n                    anterior: 0\n                }\n            }]\n        },\n        facturacion: {\n            valor: 0,\n            factura: 0,\n            factura_tendencia: \"neutro\",\n            nota_credito: 0,\n            nota_credito_tendencia: \"neutro\",\n            solicitud_nc: 0,\n            solicitud_nc_tendencia: \"neutro\"\n        },\n        ventas: {\n            valor: 0,\n            variacion: {\n                mes: \"\",\n                mes_indicador: 0,\n            },\n            fechas: [{\n                mes: \"\",\n                periodos: {\n                    actual: 0,\n                    anterior: 0\n                }\n            }, {\n                mes: \"\",\n                periodos: {\n                    actual: 0,\n                    anterior: 0\n                }\n            }]\n        },\n        rapel_rebate: {\n            ranking: 0,\n            tendencia: \"neutro\",\n            rapel: 0,\n            rapel_indicador: 0,\n            rebate: 0,\n            rebate_indicador: 0,\n            proyectado: 0,\n            proyectado_indicador: 0\n        }\n    },\n    _attachments: \"\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/ferreteria.model.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, MenuController, App, ToastController, AlertController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { CallNumber } from '@ionic-native/call-number';\nimport { EmailComposer } from '@ionic-native/email-composer';\nimport { ferreteriaModel } from '../../models/ferreteria.model';\nimport { ProtectedPage } from '../protected-page/protected-page';\nimport { UsersService } from '../../providers/users-service';\nimport { FerreteriasService } from '../../providers/ferreterias-service';\n\nimport *  as AppConfig from '../../app/config';\n@IonicPage()\n@Component({\n    selector: 'page-profile-detalle',\n    templateUrl: 'profile-detalle.html',\n})\nexport class ProfileDetallePage extends ProtectedPage {\n    private cfg: any;\n    public ferreteria = ferreteriaModel;\n    user: any = [];\n    userType: any;\n    logoFerreteria: any;\n    logoProveedor: any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public menuCtrl: MenuController,\n        public storage: Storage,\n        public appCtrl: App,\n        public toastCtrl: ToastController,\n        public alertCtrl: AlertController,\n        public callNumber: CallNumber,\n        public emailComposer: EmailComposer,\n        public usersService: UsersService,\n        public ferreteriasService: FerreteriasService) {\n        super(navCtrl, navParams, storage, appCtrl);\n        this.cfg = AppConfig.cfg;\n        this.user = this.navParams.get('user');\n    }\n    ionViewDidLoad() {\n        if (this.user === undefined || this.user === null) {\n            this.navCtrl.setRoot('AgendaPage');\n        }\n        else {\n            this.ferreteriasService.getOne(this.user.id_ferreteria).then(datosFerreteria => {\n                this.ferreteria = datosFerreteria\n                const attachments = Object.keys(this.ferreteria._attachments);\n                this.logoFerreteria = attachments[0];\n            });\n            this.userType = this.user.type;\n            if(this.userType==\"corporativo\"){\n                this.userType = \"socio\";\n            }\n        }\n    }\n    callToContact(user: any) {\n        if (user.phonenum) {\n            let success = this.toastCtrl.create({\n                message: 'Llamando al contacto',\n                duration: 3000,\n                position: 'bottom',\n                closeButtonText: \"OK\"\n            });\n            let failed = this.toastCtrl.create({\n                message: 'Ha ocurrido un problema al intentar llamar el contacto',\n                duration: 4000,\n                position: 'bottom',\n                closeButtonText: \"OK\"\n            });\n            this.callNumber.callNumber(user.phonenum, true).then(() =>\n                success.present()\n            ).catch(() =>\n                failed.present()\n            );\n        }\n    }\n    mailToContact(user: any) {\n        if (user.email) {\n            let failed = this.toastCtrl.create({\n                message: 'Ha ocurrido un problema al intentar enviar el correo',\n                duration: 4000,\n                position: 'bottom',\n                closeButtonText: \"OK\"\n            });\n            if ((<any>window).cordova) {\n                let email = {\n                    to: user.email,\n                    subject: 'Mensaje desde App SociosMTS',\n                    body: 'Estimado: ¿Cómo se encuentra?',\n                    isHtml: true\n                };\n                this.emailComposer.open(email);\n            }\n            else {\n                failed.present();\n            }\n        }\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile-detalle/profile-detalle.ts"],"sourceRoot":""}