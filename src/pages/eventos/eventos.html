<ion-header>
    <ion-navbar center>
        <img class="logoHeaderv2" width="120" src="assets/images/logoHeaderV2@2.png" />
        <button ion-button menuToggle right>
            <div class="navicon-button x">
                <div class="navicon"></div>
            </div>
    	</button>
    </ion-navbar>
</ion-header>
<ion-content padding class="contentInterior">
    <ion-row justify-content-around>
        <ion-col col-sm-6 col-md-6 col-lg-4 col-xl-3 align-self-center>
            <h1 class="text-center uppercase">Eventos</h1>
        </ion-col>
    </ion-row>
    <ion-list no-lines class="eventos">
        <button ion-item *ngFor="let evento of eventos" class="no-padding" (click)="openPage('EventosDetallePage', evento);" detail-push>
            <div class="detalles">
                <h2 text-wrap>{{evento.doc.title}}</h2>
            </div>
            <div class="imageEvento" *ngIf="evento.doc._attachments">
                <div *ngFor="let attachment of evento.doc._attachments | keys; index as i">
                    <lazy-img width="100%" inputSrc="{{cfg.apiUrl}}/eventos/{{evento.doc._id}}/{{attachment.key}}" *ngIf="i==0"></lazy-img>
                </div>
            </div>
            <div class="detalles">
                <div class="text-center" *ngIf="!evento.doc.participando">
                    <button margin-bottom class="btn-primary btn-large" margin-top center ion-button large (click)="participar()">
                        <span>Participar</span>
                    </button>
                </div>
                <div class="text-center" *ngIf="evento.doc.participando">
                    <button margin-bottom class="btn-primary btn-large" margin-top center ion-button large (click)="participar()">
                        <span>Participar</span>
                    </button>
                </div>
            </div>
        </button>
    </ion-list>
    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
        <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>
